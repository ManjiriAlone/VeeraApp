<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Motion Detection System</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Comic Sans MS', sans-serif;
      background-color: #e0f7fa;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    header {
      background-color: #00796b;
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
    }

    header h1 {
      text-align: center;
      flex: 1;
      font-size: 24px;
    }

    .nav-buttons {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .nav-buttons img {
      width: 32px;
      height: 32px;
      cursor: pointer;
      transition: transform 0.3s ease;
      border-radius: 50%;
    }

    .nav-buttons img:hover {
      transform: scale(1.1);
      background-color: rgba(255, 255, 255, 0.2);
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      padding: 40px 20px;
      background: linear-gradient(135deg, #e0f7fa 0%, #b2dfdb 100%);
    }

    .scene {
      width: 100%;
      max-width: 1000px;
      display: flex;
      flex-direction: column;
      gap: 40px;
    }

    .animation-scene {
      position: relative;
      width: 100%;
      height: 350px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 20px;
      overflow: hidden;
      border: 3px solid #00796b;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .sensor-animated {
      position: absolute;
      left: 40px;
      top: 50%;
      transform: translateY(-50%);
    }

    .sensor-body {
      width: 80px;
      height: 120px;
      background: linear-gradient(135deg, #00796b 0%, #004d40 100%);
      border-radius: 12px;
      position: relative;
      border: 2px solid #00474a;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    .line-sensor-to-arduino {
      position: absolute;
      height: 2px;
      background: linear-gradient(90deg, #ff9800, #00796b);
      top: 50%;
      left: 130px;
      width: 200px;
      transform: translateY(-50%);
      animation: lineFlow 2s ease-in-out infinite;
    }

    @keyframes lineFlow {
      0%,
      100% {
        box-shadow: 0 0 5px rgba(0, 121, 107, 0.5);
      }

      50% {
        box-shadow: 0 0 15px rgba(255, 152, 0, 0.8);
      }
    }

    .arduino-middle {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }

    .arduino-board {
      width: 150px;
      height: 200px;
      background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
      border-radius: 10px;
      position: relative;
      border: 2px solid #0d47a1;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .alert-pulse {
      position: absolute;
      width: 30px;
      height: 30px;
      border: 2px solid #ff5722;
      border-radius: 50%;
      top: -50px;
      left: 50%;
      transform: translateX(-50%);
      animation: alertPulse 1s ease-out infinite;
    }

    @keyframes alertPulse {
      0% {
        width: 30px;
        height: 30px;
        opacity: 1;
      }

      100% {
        width: 70px;
        height: 70px;
        opacity: 0;
      }
    }

    /* Typewriter Box */
    .typewriter-box {
      margin-top: 20px;
      background: #ffffff;
      border-radius: 15px;
      padding: 20px;
      width: 80%;
      max-width: 700px;
      text-align: center;
      font-size: 18px;
      line-height: 1.6;
      color: #004d40;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      align-self: center;
    }

    .cursor {
      display: inline-block;
      width: 6px;
      background-color: #004d40;
      animation: blink 0.8s infinite;
      margin-left: 2px;
    }

    @keyframes blink {
      0%,
      50%,
      100% {
        opacity: 1;
      }

      25%,
      75% {
        opacity: 0;
      }
    }

    footer {
      background-color: #00796b;
      color: white;
      text-align: center;
      padding: 15px 0;
    }

    footer button {
      background-color: #004d40;
      color: white;
      border: none;
      padding: 10px 25px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s;
    }

    footer button:hover {
      background-color: #26a69a;
    }

    @media (max-width: 768px) {
      header h1 {
        font-size: 18px;
      }

      .animation-scene {
        height: 300px;
      }

      .typewriter-box {
        width: 95%;
        font-size: 16px;
      }
    }
  </style>
</head>

<body>
  <header>
    <h1>üèÉ Motion Detection System</h1>
    <div class="nav-buttons">
      <a href="#"><img src="../../assets/icons/home.png" alt="Home" /></a>
      <a href="#"><img src="../../assets/icons/logout.png" alt="Logout" /></a>
      <a href="#"><img src="../../assets/icons/achievements.png" alt="Achievements" /></a>
    </div>
  </header>

  <main>
    <div class="scene">
      <div class="animation-scene">
        <div class="sensor-animated">
          <div class="sensor-body">
            <img src="../../assets/images/motion.png" alt="sensor"
              style="width: 80px; height: auto; margin-top: 10px;" />
          </div>
        </div>

        <div class="line-sensor-to-arduino"></div>

        <div class="arduino-middle">
          <div class="alert-pulse"></div>
          <div class="arduino-board">
            <img src="../../assets/images/board.png" alt="Arduino Board" style="width: 150px; height: auto;" />
          </div>
        </div>

        <div style="position: absolute; right: 40px; top: 50%; transform: translateY(-50%);">
          <img src="../../assets/images/lion.gif" alt="Lion Animation"
            style="width: 120px; height: auto; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));" />
        </div>
      </div>

      <!-- Typewriter narration -->
      <div class="typewriter-box" id="typewriter"></div>
    </div>
  </main>

  <footer>
    <button id="nextBtn">Next</button>
  </footer>

  <script>
    const text = `üö∂‚Äç‚ôÄÔ∏è Shh... something‚Äôs moving!
Your Veera Kit has a special PIR sensor ‚Äî it can detect when people or animals move around.
It works just like the sensors used in automatic doors or burglar alarms!
When motion is detected, you‚Äôll see an alert ‚Äî it‚Äôs alive! üòÑ
Ready to catch some motion in action? Let‚Äôs activate your movement radar! üéØ
`;

    const typewriterEl = document.getElementById("typewriter");
    let i = 0;

    function typeEffect() {
      if (i < text.length) {
        typewriterEl.innerHTML = text.substring(0, i + 1) + '<span class="cursor"></span>';
        i++;
        setTimeout(typeEffect, 45);
      } else {
        typewriterEl.innerHTML = text + '<span class="cursor"></span>';
      }
    }

    window.onload = typeEffect;

    document.getElementById("nextBtn").addEventListener("click", () => {
      window.location.href = "C6E6.html";
    });
  </script>

  <script src="SerialManager.js"></script>
  <script src="./backend/experimentControls.js"></script>
  <script src="../backend/renderer.js"></script>
</body>

</html>
